{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{234:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},264:function(e,t){},266:function(e,t){},273:function(e,t,n){},275:function(e,t,n){},435:function(e,t,n){},438:function(e,t,n){\"use strict\";n.r(t);var c=n(0),r=n.n(c),a=n(206),s=n.n(a),i=(n(234),n(235),n(227)),o=n(7),u=n(17),l=(n(236),n(440)),d=n(98),j=(n(240),n(1));d.a.connect(\"http://localhost:3001\");var b=function(e){var t=Object(c.useState)(\"\"),n=Object(u.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(\"\"),i=Object(u.a)(s,2),o=i[0],d=i[1];return Object(j.jsxs)(\"div\",{className:\"joinRoom\",children:[Object(j.jsx)(\"h1\",{children:\" Enter Room Details \"}),Object(j.jsx)(\"input\",{id:\"input-name\",type:\"text\",placeholder:\"Enter Your Name...\",onChange:function(e){return a(e.target.value)}}),Object(j.jsx)(\"input\",{id:\"input-room\",type:\"text\",placeholder:\"Enter Room ID...\",onChange:function(e){return d(e.target.value)}}),Object(j.jsx)(\"button\",{type:\"submit\",onClick:function(t){return function(t){t.preventDefault(),\"\"!==r&&\"\"!==o?(document.getElementById(\"input-name\").value=\"\",document.getElementById(\"input-room\").value=\"\",e.history.push(\"/room/\".concat(o))):alert(\"Please enter valid values\")}(t)},children:\" Join a room \"}),Object(j.jsx)(\"button\",{onClick:function(t){return function(t){if(t.preventDefault(),\"\"!==r){document.getElementById(\"input-name\").value=\"\",document.getElementById(\"input-room\").value=\"\";var n=Object(l.a)();e.history.push(\"/room/\".concat(n))}else alert(\"Please enter a name\")}(t)},children:\" Create new room \"})]})},m=n(210),f=n(138),v=n.n(f),O=(n(273),n(211)),h=n.n(O),x=n(224),p=n(64),g=n.n(p),y=n(144),N=n(96),D=(n(275),n(229));var I=function(e){var t=e.socket,n=e.room,r=e.name,a=Object(c.useState)([]),s=Object(u.a)(a,2),i=s[0],o=s[1],l=Object(c.useState)(\"\"),d=Object(u.a)(l,2),b=d[0],m=d[1],f=function(){var e=Object(N.a)(g.a.mark((function e(c){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),\"\"!==b){e.next=4;break}return alert(\"Please enter a valid message\"),e.abrupt(\"return\");case 4:return a={room:n,sender:r,message:b,time:new Date(Date.now()).getHours()+\":\"+new Date(Date.now()).getMinutes()},e.next=7,t.emit(\"send message\",a);case 7:o((function(e){return[].concat(Object(y.a)(e),[a])})),m(\"\"),document.getElementById(\"input\").value=\"\";case 10:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){t.on(\"receive message\",(function(e){o((function(t){return[].concat(Object(y.a)(t),[e])}))}))}),[t]),Object(j.jsx)(\"div\",{className:\"chatbox\",children:Object(j.jsxs)(\"div\",{className:\"chat\",children:[Object(j.jsx)(\"div\",{className:\"chat-header\",children:\" Live Chat \"}),Object(j.jsx)(\"div\",{className:\"chat-body\",children:Object(j.jsx)(D.a,{className:\"message-container\",children:i.map((function(e){return Object(j.jsx)(\"div\",{className:\"message\",children:e.sender===t.id?Object(j.jsx)(\"div\",{className:\"message-sent\",children:Object(j.jsxs)(\"div\",{className:\"message-sender\",children:[Object(j.jsx)(\"div\",{className:\"sender-name\",children:Object(j.jsxs)(\"div\",{className:\"sender-send\",children:[\" \",e.sender,\" \"]})}),Object(j.jsxs)(\"div\",{className:\"content-box\",children:[Object(j.jsxs)(\"div\",{className:\"text\",children:[\" \",e.message,\" \"]}),Object(j.jsxs)(\"div\",{className:\"time\",children:[\" \",e.time,\" \"]})]})]})}):Object(j.jsx)(\"div\",{className:\"message-received\",children:Object(j.jsxs)(\"div\",{className:\"message-receiver\",children:[Object(j.jsxs)(\"div\",{className:\"sender-received\",children:[\" \",e.sender,\" \"]}),Object(j.jsx)(\"div\",{className:\"content-reciever\",children:Object(j.jsxs)(\"div\",{className:\"content-box\",children:[Object(j.jsxs)(\"div\",{className:\"text\",children:[\" \",e.message,\" \"]}),Object(j.jsxs)(\"div\",{className:\"time\",children:[\" \",e.time,\" \"]})]})})]})})})}))})}),Object(j.jsxs)(\"div\",{className:\"chat-footer\",children:[Object(j.jsx)(\"input\",{className:\"message-input\",id:\"input\",type:\"text\",placeholder:\"Type Message Here...\",onChange:function(e){return m(e.target.value)}}),Object(j.jsx)(\"button\",{className:\"send-message\",onClick:function(e){return f(e)},children:\"\\u25ba\"})]})]})})};n(435);var k,w=d.a.connect(\"http://localhost:3001\"),C=x.a.video(k||(k=Object(m.a)([\"\\n    height: 300px;\\n    width: 300px;\\n\"]))),E=function(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){console.log(e.peer),t.current.srcObject=e.peer.streams[0]}),[]),Object(j.jsx)(C,{playsInline:!0,autoPlay:!0,ref:t})};var S=function(e){var t=Object(c.useState)(\"\"),n=Object(u.a)(t,2),r=(n[0],n[1],Object(c.useState)(!0)),a=Object(u.a)(r,2),s=(a[0],a[1],Object(c.useState)(!0)),i=Object(u.a)(s,2),o=(i[0],i[1],Object(c.useState)(!1)),l=Object(u.a)(o,2),d=(l[0],l[1],Object(c.useState)([])),b=Object(u.a)(d,2),m=b[0],f=b[1],O=Object(c.useState)([]),x=Object(u.a)(O,2),p=x[0],g=x[1],y=Object(c.useRef)(),N=Object(c.useRef)([]),D=(Object(c.useRef)([]),e.match.params.roomID);Object(c.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){y.current.srcObject=e,w.emit(\"join room\",D),w.on(\"all users\",(function(t){t.forEach((function(t){var n=k(t,w.id,e);N.current.push({peerID:t,peer:n})}))})),w.on(\"user joined\",(function(t){var n=S(t.signal,t.callerID,e);N.current.push({peerID:t.callerID,peer:n})})),w.on(\"receiving returned signal\",(function(e){N.current.find((function(t){return t.peerID===e.id})).peer.signal(e.signal)})),w.on(\"user left\",(function(e){var t=N.current.find((function(t){return t.peerID===e}));t&&t.peer.destroy();var n=N.current.filter((function(t){return t.peerID!==e})),c=m.filter((function(t){return t.peerID!==e}));N.current=n,f(c)}))}))}),[]);var k=function(e,t,n){var c=new v.a({initiator:!0,trickle:!1,stream:n});return c.on(\"signal\",(function(n){w.emit(\"sending signal\",{userToSignal:e,callerID:t,signal:n})})),c},S=function(e,t,n){var c=new v.a({initiator:!1,trickle:!1,stream:n});return c.on(\"signal\",(function(e){w.emit(\"returning signal\",{signal:e,callerID:t})})),c.signal(e),c};Object(c.useEffect)((function(){w.on(\"receive move\",(function(e){g(e.all);for(var t={},n=0;n<e.all.length;n++)if(e.all[n].id===w.id){t=e.all[n];break}for(var c=[],r=0;r<e.all.length;r++)if(e.all[r].id!==w.id&&R(e.all[r],t))for(var a=0;a<N.current.length;a++)N.current[a].peerID===e.all[r].id&&c.push(N.current[a]);f(c)}))}),[w]);var R=function(e,t){return(e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)<=1e4};return Object(j.jsxs)(\"div\",{className:\"room\",children:[Object(j.jsxs)(\"div\",{className:\"video-canvas\",children:[Object(j.jsxs)(\"div\",{className:\"buttonbox\",children:[Object(j.jsx)(\"button\",{type:\"button\",className:\"mute\",onClick:function(e){return function(e){var t=y.current.srcObject.getAudioTracks()[0].enabled;y.current.srcObject.getAudioTracks()[0].enabled=!t}()},children:\" Mute \"}),Object(j.jsx)(\"button\",{type:\"button\",className:\"camera\",onClick:function(e){return function(e){var t=y.current.srcObject.getVideoTracks()[0].enabled;y.current.srcObject.getVideoTracks()[0].enabled=!t}()},children:\" Camera \"}),Object(j.jsx)(\"button\",{type:\"button\",className:\"screenshare\",onClick:function(e){},children:\" ScreenShare \"}),Object(j.jsx)(\"button\",{type:\"button\",className:\"debug\",onClick:function(e){return console.log(N.current)},children:\" Debug \"})]}),Object(j.jsxs)(\"div\",{className:\"videobox\",children:[Object(j.jsx)(C,{muted:!0,ref:y,autoPlay:!0,playsInline:!0}),m.map((function(e){return Object(j.jsx)(E,{peer:e.peer})}))]}),Object(j.jsx)(h.a,{setup:function(e,t){e.createCanvas(800,600).parent(t);var n=[];n.push({id:w.id,room:D,x:400,y:100}),g(n)},draw:function(e){e.background(\"rgb(255, 255, 255)\");var t=p.findIndex((function(e){return e.id===w.id}));if(-1!==t){var n=p;(e.keyIsDown(87)||e.keyIsDown(38))&&(n[t].y=n[t].y-2),(e.keyIsDown(65)||e.keyIsDown(37))&&(n[t].x=n[t].x-2),(e.keyIsDown(83)||e.keyIsDown(40))&&(n[t].y=n[t].y+2),(e.keyIsDown(68)||e.keyIsDown(39))&&(n[t].x=n[t].x+2),g(n);var c={id:w.id,room:D,x:n[t].x,y:n[t].y};w.emit(\"send move\",c)}for(var r=0;r<p.length;r++)e.circle(p[r].x,p[r].y,16)},className:\"canvas\"})]}),Object(j.jsx)(I,{className:\"chat\",socket:w,room:D})]})};var R=function(){return Object(j.jsx)(i.a,{children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:\"/\",exact:!0,component:b}),Object(j.jsx)(o.a,{path:\"/room/:roomID\",component:S})]})})};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(R,{})}),document.getElementById(\"root\"))}},[[438,1,2]]]);","name":"static/js/main.50f46b14.chunk.js","map":{"version":3,"sources":["static/js/main.50f46b14.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","slicedToArray","v1","esm","jsx_runtime","connect","src_JoinRoom","props","_useState","Object","_useState2","name","setName","_useState3","_useState4","room","setRoom","className","children","id","type","placeholder","onChange","e","target","value","onClick","preventDefault","document","getElementById","history","concat","alert","joinRoom","roomID","createRoom","taggedTemplateLiteral","simple_peer","simple_peer_default","build","build_default","styled_components_browser_esm","regenerator","regenerator_default","toConsumableArray","asyncToGenerator","lib_esm","src_Chat","_ref","socket","messages","setMessages","message","setMessage","sendMessage","_ref2","a","mark","_callee","messageData","wrap","_context","prev","next","abrupt","sender","time","Date","now","getHours","getMinutes","emit","list","stop","_x","apply","arguments","on","data","map","_templateObject","Room_socket","StyledVideo","video","Room_Video","ref","console","log","peer","current","srcObject","streams","playsInline","autoPlay","src_Room","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","nearby","setNearby","_useState11","_useState12","users","setUsers","userVideo","peersRef","match","params","navigator","mediaDevices","getUserMedia","audio","then","stream","forEach","userID","createPeer","peerID","payload","addPeer","signal","callerID","find","p","peerObj","destroy","peers","filter","tempNearby","userToSignal","initiator","trickle","incomingSignal","all","me","i","length","_i","proximity","j","user","x","y","enabled","getAudioTracks","muteUnmute","getVideoTracks","cameraOnOff","muted","setup","p5","canvas","createCanvas","parent","tempUsers","draw","background","idx","findIndex","keyIsDown","circle","src_App","path","exact","component","render","StrictMode"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 234:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 235:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 236:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 264:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 266:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 273:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 275:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 435:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 438:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(206);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(234);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(235);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(227);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./src/JoinRoom.css\nvar JoinRoom = __webpack_require__(236);\n\n// EXTERNAL MODULE: ./node_modules/uuid/dist/esm-browser/v1.js + 4 modules\nvar v1 = __webpack_require__(440);\n\n// EXTERNAL MODULE: ./node_modules/socket.io-client/build/esm/index.js + 14 modules\nvar esm = __webpack_require__(98);\n\n// EXTERNAL MODULE: ../node_modules/cors/lib/index.js\nvar lib = __webpack_require__(240);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/JoinRoom.js\nvar JoinRoom_socket=esm[\"a\" /* default */].connect(\"http://localhost:3001\");function JoinRoom_JoinRoom(props){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),room=_useState4[0],setRoom=_useState4[1];var joinRoom=function joinRoom(e){e.preventDefault();if(name===\"\"||room===\"\"){alert(\"Please enter valid values\");return;}document.getElementById(\"input-name\").value=\"\";document.getElementById(\"input-room\").value=\"\";props.history.push(\"/room/\".concat(room));};var createRoom=function createRoom(e){e.preventDefault();if(name===\"\"){alert(\"Please enter a name\");return;}document.getElementById(\"input-name\").value=\"\";document.getElementById(\"input-room\").value=\"\";var roomID=Object(v1[\"a\" /* default */])();props.history.push(\"/room/\".concat(roomID));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"joinRoom\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\" Enter Room Details \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"input-name\",type:\"text\",placeholder:\"Enter Your Name...\",onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{id:\"input-room\",type:\"text\",placeholder:\"Enter Room ID...\",onChange:function onChange(e){return setRoom(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",onClick:function onClick(e){return joinRoom(e);},children:\" Join a room \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return createRoom(e);},children:\" Create new room \"})]});};/* harmony default export */ var src_JoinRoom = (JoinRoom_JoinRoom);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(210);\n\n// EXTERNAL MODULE: ./node_modules/simple-peer/index.js\nvar simple_peer = __webpack_require__(138);\nvar simple_peer_default = /*#__PURE__*/__webpack_require__.n(simple_peer);\n\n// EXTERNAL MODULE: ./src/Room.css\nvar Room = __webpack_require__(273);\n\n// EXTERNAL MODULE: ./node_modules/react-p5/build/index.js\nvar build = __webpack_require__(211);\nvar build_default = /*#__PURE__*/__webpack_require__.n(build);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(224);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(64);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(144);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./src/Chat.css\nvar Chat = __webpack_require__(275);\n\n// EXTERNAL MODULE: ./node_modules/react-scroll-to-bottom/lib/esm/index.js + 42 modules\nvar lib_esm = __webpack_require__(229);\n\n// CONCATENATED MODULE: ./src/Chat.js\nfunction Chat_Chat(_ref){var socket=_ref.socket,room=_ref.room,name=_ref.name;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),messages=_useState2[0],setMessages=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var sendMessage=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var messageData;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(message===\"\")){_context.next=4;break;}alert(\"Please enter a valid message\");return _context.abrupt(\"return\");case 4:messageData={room:room,sender:name,message:message,time:new Date(Date.now()).getHours()+\":\"+new Date(Date.now()).getMinutes()};_context.next=7;return socket.emit('send message',messageData);case 7:setMessages(function(list){return[].concat(Object(toConsumableArray[\"a\" /* default */])(list),[messageData]);});setMessage(\"\");document.getElementById('input').value=\"\";case 10:case\"end\":return _context.stop();}}},_callee);}));return function sendMessage(_x){return _ref2.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){socket.on('receive message',function(data){setMessages(function(list){return[].concat(Object(toConsumableArray[\"a\" /* default */])(list),[data]);});});},[socket]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chatbox\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat-header\",children:\" Live Chat \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat-body\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(lib_esm[\"a\" /* default */],{className:\"message-container\",children:messages.map(function(message){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message\",children:message.sender===socket.id?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message-sent\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"message-sender\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sender-name\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sender-send\",children:[\" \",message.sender,\" \"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"content-box\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"text\",children:[\" \",message.message,\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"time\",children:[\" \",message.time,\" \"]})]})]})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message-received\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"message-receiver\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sender-received\",children:[\" \",message.sender,\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"content-reciever\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"content-box\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"text\",children:[\" \",message.message,\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"time\",children:[\" \",message.time,\" \"]})]})})]})})});})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-footer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"message-input\",id:\"input\",type:\"text\",placeholder:\"Type Message Here...\",onChange:function onChange(e){return setMessage(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"send-message\",onClick:function onClick(e){return sendMessage(e);},children:\"\\u25BA\"})]})]})});}/* harmony default export */ var src_Chat = (Chat_Chat);\n// EXTERNAL MODULE: ./src/RoomSetup.css\nvar RoomSetup = __webpack_require__(435);\n\n// CONCATENATED MODULE: ./src/RoomSetup.js\nfunction RoomSetup_RoomSetup(props){var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),mic=_useState2[0],setMic=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),cam=_useState4[0],setCam=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),name=_useState6[0],setName=_useState6[1];var videoStream=Object(react[\"useRef\"])(null);Object(react[\"useEffect\"])(function(){var getUserMedia=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var stream;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return navigator.mediaDevices.getUserMedia({video:true,audio:true});case 3:stream=_context.sent;videoStream.current.srcObject=stream;_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getUserMedia(){return _ref.apply(this,arguments);};}();getUserMedia();},[]);var muteUnmute=function muteUnmute(e){if(mic){setMic(false);props.setMic(false);}else{setMic(true);props.setMic(true);}var enabled=videoStream.current.srcObject.getAudioTracks()[0].enabled;if(enabled){videoStream.current.srcObject.getAudioTracks()[0].enabled=false;}else{videoStream.current.srcObject.getAudioTracks()[0].enabled=true;}};var cameraOnOff=function cameraOnOff(e){if(cam){setCam(false);props.setCam(false);}else{setCam(true);props.setCam(true);}var enabled=videoStream.current.srcObject.getVideoTracks()[0].enabled;if(enabled){videoStream.current.srcObject.getVideoTracks()[0].enabled=false;}else{videoStream.current.srcObject.getVideoTracks()[0].enabled=true;}};var updateName=function updateName(newName){setName(newName);props.setName(newName);};var joinRoom=function joinRoom(e){if(name===\"\"){alert(\"please enter a valid name\");return;}props.setJoinedRoom(true);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"roomsetup\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return joinRoom(e);},children:\"Join\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return muteUnmute(e);},children:\"mute mic\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return cameraOnOff(e);},children:\"turn off cam\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"enter display name\",onChange:function onChange(e){return updateName(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"video\",{muted:true,ref:videoStream,autoPlay:true})]});}/* harmony default export */ var src_RoomSetup = (RoomSetup_RoomSetup);\n// CONCATENATED MODULE: ./src/Room.js\nvar _templateObject;var Room_socket=esm[\"a\" /* default */].connect(\"http://localhost:3001\");var StyledVideo=styled_components_browser_esm[\"a\" /* default */].video(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    height: 300px;\\n    width: 300px;\\n\"])));var Room_Video=function Video(props){var ref=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){console.log(props.peer);ref.current.srcObject=props.peer.streams[0];},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StyledVideo,{playsInline:true,autoPlay:true,ref:ref});};function Room_Room(props){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),mic=_useState4[0],setMic=_useState4[1];var _useState5=Object(react[\"useState\"])(true),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),cam=_useState6[0],setCam=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),joinedRoom=_useState8[0],setJoinedRoom=_useState8[1];var _useState9=Object(react[\"useState\"])([]),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),nearby=_useState10[0],setNearby=_useState10[1];var _useState11=Object(react[\"useState\"])([]),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),users=_useState12[0],setUsers=_useState12[1];var userVideo=Object(react[\"useRef\"])();var peersRef=Object(react[\"useRef\"])([]);var trackPeers=Object(react[\"useRef\"])([]);var roomID=props.match.params.roomID;Object(react[\"useEffect\"])(function(){navigator.mediaDevices.getUserMedia({video:true,audio:true}).then(function(stream){userVideo.current.srcObject=stream;Room_socket.emit(\"join room\",roomID);Room_socket.on(\"all users\",function(users){users.forEach(function(userID){var peer=createPeer(userID,Room_socket.id,stream);peersRef.current.push({peerID:userID,peer:peer});});});Room_socket.on(\"user joined\",function(payload){var peer=addPeer(payload.signal,payload.callerID,stream);peersRef.current.push({peerID:payload.callerID,peer:peer});});Room_socket.on(\"receiving returned signal\",function(payload){var item=peersRef.current.find(function(p){return p.peerID===payload.id;});item.peer.signal(payload.signal);});Room_socket.on(\"user left\",function(id){var peerObj=peersRef.current.find(function(p){return p.peerID===id;});if(peerObj){peerObj.peer.destroy();}var peers=peersRef.current.filter(function(p){return p.peerID!==id;});var tempNearby=nearby.filter(function(p){return p.peerID!==id;});peersRef.current=peers;setNearby(tempNearby);});});},[]);var createPeer=function createPeer(userToSignal,callerID,stream){var peer=new simple_peer_default.a({initiator:true,trickle:false,stream:stream});peer.on(\"signal\",function(signal){Room_socket.emit(\"sending signal\",{userToSignal:userToSignal,callerID:callerID,signal:signal});});return peer;};var addPeer=function addPeer(incomingSignal,callerID,stream){var peer=new simple_peer_default.a({initiator:false,trickle:false,stream:stream});peer.on(\"signal\",function(signal){Room_socket.emit(\"returning signal\",{signal:signal,callerID:callerID});});peer.signal(incomingSignal);return peer;};Object(react[\"useEffect\"])(function(){Room_socket.on('receive move',function(data){setUsers(data.all);var me={};for(var i=0;i<data.all.length;i++){if(data.all[i].id===Room_socket.id){me=data.all[i];break;}}var tempNearby=[];for(var _i=0;_i<data.all.length;_i++){if(data.all[_i].id===Room_socket.id){continue;}if(proximity(data.all[_i],me)){for(var j=0;j<peersRef.current.length;j++){if(peersRef.current[j].peerID===data.all[_i].id){tempNearby.push(peersRef.current[j]);}}}}setNearby(tempNearby);});},[Room_socket]);var muteUnmute=function muteUnmute(e){var enabled=userVideo.current.srcObject.getAudioTracks()[0].enabled;if(enabled){userVideo.current.srcObject.getAudioTracks()[0].enabled=false;}else{userVideo.current.srcObject.getAudioTracks()[0].enabled=true;}};var cameraOnOff=function cameraOnOff(e){var enabled=userVideo.current.srcObject.getVideoTracks()[0].enabled;if(enabled){userVideo.current.srcObject.getVideoTracks()[0].enabled=false;}else{userVideo.current.srcObject.getVideoTracks()[0].enabled=true;}};var screenShare=function screenShare(e){};var stopScreenShare=function stopScreenShare(){};var proximity=function proximity(user,me){if((user.x-me.x)*(user.x-me.x)+(user.y-me.y)*(user.y-me.y)<=10000){return true;}else{return false;}};var setup=function setup(p5,canvas){var canv=p5.createCanvas(800,600).parent(canvas);var tempUsers=[];tempUsers.push({id:Room_socket.id,room:roomID,x:400,y:100});setUsers(tempUsers);};var draw=function draw(p5){p5.background(\"rgb(255, 255, 255)\");var idx=users.findIndex(function(user){return user.id===Room_socket.id;});if(idx!==-1){var tempUsers=users;if(p5.keyIsDown(87)||p5.keyIsDown(38)){tempUsers[idx].y=tempUsers[idx].y-2;}if(p5.keyIsDown(65)||p5.keyIsDown(37)){tempUsers[idx].x=tempUsers[idx].x-2;}if(p5.keyIsDown(83)||p5.keyIsDown(40)){tempUsers[idx].y=tempUsers[idx].y+2;}if(p5.keyIsDown(68)||p5.keyIsDown(39)){tempUsers[idx].x=tempUsers[idx].x+2;}setUsers(tempUsers);var data={id:Room_socket.id,room:roomID,x:tempUsers[idx].x,y:tempUsers[idx].y};Room_socket.emit('send move',data);}for(var i=0;i<users.length;i++){p5.circle(users[i].x,users[i].y,16);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"room\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"video-canvas\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"buttonbox\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"mute\",onClick:function onClick(e){return muteUnmute(e);},children:\" Mute \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"camera\",onClick:function onClick(e){return cameraOnOff(e);},children:\" Camera \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"screenshare\",onClick:function onClick(e){return screenShare(e);},children:\" ScreenShare \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"debug\",onClick:function onClick(e){return console.log(peersRef.current);},children:\" Debug \"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"videobox\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StyledVideo,{muted:true,ref:userVideo,autoPlay:true,playsInline:true}),nearby.map(function(peer){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Room_Video,{peer:peer.peer});})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(build_default.a,{setup:setup,draw:draw,className:\"canvas\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Chat,{className:\"chat\",socket:Room_socket,room:roomID})]});};/* harmony default export */ var src_Room = (Room_Room);// import React, { useEffect, useRef, useState } from \"react\";\n// import io from \"socket.io-client\";\n// import Peer from \"simple-peer\";\n// import \"./Room.css\";\n// import Sketch from 'react-p5';\n// import styled from \"styled-components\";\n// import Chat from \"./Chat\";\n// import RoomSetup from './RoomSetup';\n// const socket = io.connect(\"http://localhost:3001\");\n// const StyledVideo = styled.video`\n// \theight: 300px;\n// \twidth: 300px;\n// `;\n// const Video = (props) => {\n// \tconst ref = useRef();\n// \tuseEffect(() => {\n// \t\tref.current.srcObject = props.peer;\n// \t}, []);\n// \treturn (\n// \t\t\tprops.muted ? (\n// \t\t\t\t<StyledVideo muted playsInline autoPlay ref={ ref } />\n// \t\t\t) : (\n// \t\t\t\t<StyledVideo playsInline autoPlay ref={ ref } />\n// \t\t\t)\n// \t);\n// }\n// function Room(props) {\n// \t\tconst [name, setName] = useState(\"\");\n// \t\tconst [mic, setMic] = useState(true);\n// \t\tconst [cam, setCam] = useState(true);\n// \t\tconst [joinedRoom, setJoinedRoom] = useState(false);\n// \t\tconst [users, setUsers] = useState([]);\n// \t\tconst [peers, setPeers] = useState([]);\n// \t\tconst [connected, setConnected] = useState({});\n// \t\tconst peersRef = useRef([]);\n// \t\tconst myVideo = useRef([]);\n//     const roomID = props.match.params.roomID;\n// \t\tuseEffect(() => {\n// \t\t\tconst getUserMedia = async () => {\n// \t\t\t\ttry {\n// \t\t\t\t\tconst stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\n// \t\t\t\t\tsocket.emit(\"join room\", roomID);\n// \t\t\t\t\tmyVideo.current.srcObject = stream;\n// \t\t\t\t\tif (!cam) {\n// \t\t\t\t\t\tcameraOnOff();\n// \t\t\t\t\t}\n// \t\t\t\t\tif (!mic) {\n// \t\t\t\t\t\tmuteUnmute();\n// \t\t\t\t\t}\n// \t\t\t\t} catch (err) {\n// \t\t\t\t\tconsole.log(err)\n// \t\t\t\t}\n// \t\t\t}\n// \t\t\tgetUserMedia().then(stream => {\n// \t\t\t\tsocket.on(\"all users\", users => {\n// \t\t\t\t\tconst peers = [];\n// \t\t\t\t\tusers.forEach(userID => {\n// \t\t\t\t\t\tconst peer = createPeer(userID, socket.id, stream);\n// \t\t\t\t\t\tpeersRef.current.push({\n// \t\t\t\t\t\t\tpeerID: userID,\n// \t\t\t\t\t\t\tpeer,\n// \t\t\t\t\t\t})\n// \t\t\t\t\t\tpeers.push({\n// \t\t\t\t\t\t\tpeerID: userID,\n// \t\t\t\t\t\t\tpeer,\n// \t\t\t\t\t\t});\n// \t\t\t\t\t})\n// \t\t\t\t\tsetPeers(peers);\n// \t\t\t\t})\n// \t\t\t\tsocket.on(\"user joined\", payload => {\n// \t\t\t\t\tconst peer = addPeer(payload.signal, payload.callerID, stream);\n// \t\t\t\t\tpeersRef.current.push({\n// \t\t\t\t\t\tpeerID: payload.callerID,\n// \t\t\t\t\t\tpeer,\n// \t\t\t\t\t})\n// \t\t\t\t\tconst peerObj = {\n// \t\t\t\t\t\tpeer,\n// \t\t\t\t\t\tpeerID: payload.callerID,\n// \t\t\t\t\t}\n// \t\t\t\t\tsetPeers(users => [...users, peerObj]);\n// \t\t\t\t});\n// \t\t\t\tsocket.on(\"receiving returned signal\", payload => {\n// \t\t\t\t\tconst item = peersRef.current.find(p => p.peerID === payload.id);\n// \t\t\t\t\titem.peer.signal(payload.signal);\n// \t\t\t\t});\n// \t\t\t\tsocket.on(\"user left\", id => {\n// \t\t\t\t\tconst peerObj = peersRef.current.find(p => p.peerID === id);\n// \t\t\t\t\tif (peerObj) {\n// \t\t\t\t\t\tpeerObj.peer.destroy();\n// \t\t\t\t\t}\n// \t\t\t\t\tconst peers = peersRef.current.filter(p => p.peerID !== id);\n// \t\t\t\t\tpeersRef.current = peers;\n// \t\t\t\t\tsetPeers(peers);\n// \t\t\t\t})\t\n// \t\t\t});\n// \t\t}, [myVideo.current]);\n// \tuseEffect(() => {\n// \t\tsocket.on('receive move', (data) => {\n// \t\t\tsetUsers(data.all);\n// \t\t\tfor (let i = 0; i < data.all.length; i ++) {\n// \t\t\t\tif (data.all[i].id === data.me.id) {\n// \t\t\t\t\tcontinue;\n// \t\t\t\t}\n// \t\t\t\tlet closer = proximity(data.all[i], data.me)\n// \t\t\t\tif (closer && connected[data.all[i].id] === undefined) {\n// \t\t\t\t\tconnectPeer(data.all[i], data.me);\n// \t\t\t\t} else if (!closer && connected[data.all[i].id] !== undefined) {\n// \t\t\t\t\tdisconnectPeer(data.all[i], data.me);\n// \t\t\t\t}\n// \t\t\t}\n// \t\t})\n// \t}, [socket]);\n// \tconst createPeer = (userToSignal, callerID, stream) => {\n// \t\tconst peer = new Peer({\n// \t\t\tinitiator: true,\n// \t\t\ttrickle: false,\n// \t\t\tstream\n// \t\t})\n// \t\tpeer.on('signal', signal => {\n// \t\t\tsocket.emit('sending signal', { userToSignal, callerID, signal })\n// \t\t})\n// \t\treturn peer;\n// \t}\n// \tconst addPeer = (incomingSignal, callerID, stream) => {\n// \t\tconst peer = new Peer({\n// \t\t\tinitiator: false, \n// \t\t\ttrickle: false,\n// \t\t\tstream\n// \t\t})\n// \t\tpeer.on('signal', signal => {\n// \t\t\tsocket.emit('returning signal', { signal, callerID })\n// \t\t})\n// \t\tpeer.signal(incomingSignal);\n// \t\treturn peer;\n// \t}\n// \tlet setup = (p5, canvas) => {\n// \t\tlet canv = p5.createCanvas(800, 600).parent(canvas);\n// \t\tlet tempUsers = [];\n// \t\ttempUsers.push({\n// \t\t\tid: socket.id,\n// \t\t\troom: roomID,\n// \t\t\tx: 400,\n// \t\t\ty: 100\n// \t\t});\n// \t\tsetUsers(tempUsers);\n// \t}\n// \tlet draw = (p5) => {\n// \t\tp5.background(\"rgb(255, 255, 255)\");\n// \t\tlet idx = users.findIndex((user) => user.id === socket.id)\n// \t\tif (idx !== -1) {\n// \t\t\tlet tempUsers = users;\n// \t\t\tif (p5.keyIsDown(87) || p5.keyIsDown(38)) {\n// \t\t\t\ttempUsers[idx].y = tempUsers[idx].y - 2;\n// \t\t\t}\n// \t\t\tif (p5.keyIsDown(65) || p5.keyIsDown(37)) {\n// \t\t\t\ttempUsers[idx].x = tempUsers[idx].x - 2;\n// \t\t\t}\n// \t\t\tif (p5.keyIsDown(83) || p5.keyIsDown(40)) {\n// \t\t\t\ttempUsers[idx].y = tempUsers[idx].y + 2;\n// \t\t\t}\n// \t\t\tif (p5.keyIsDown(68) || p5.keyIsDown(39)) {\n// \t\t\t\ttempUsers[idx].x = tempUsers[idx].x + 2;\n// \t\t\t}\t\n// \t\t\tlet data = {\n// \t\t\t\tid: socket.id,\n// \t\t\t\troom: roomID,\n// \t\t\t\tx: tempUsers[idx].x,\n// \t\t\t\ty: tempUsers[idx].y\t\n// \t\t\t}\n// \t\t\tsetUsers(tempUsers);\n// \t\t\tsocket.emit('send move', data);\n// \t\t}\n// \t\tfor (let i = 0; i < users.length; i ++) {\n// \t\t\tp5.circle(users[i].x, users[i].y, 16);\n// \t\t}\n// \t}\n// const muteUnmute = (e) => {\n// \tconst enabled = myVideo.current.stcObject.getAudioTracks()[0].enabled;\n// \tif (enabled) {\n// \t\tmyVideo.current.srcObject.getAudioTracks()[0].enabled = false;\t\n// \t} else {\n// \t\tmyVideo.current.srcObject.getAudioTracks()[0].enabled = true;\n// \t}\n// }\n// const cameraOnOff = (e) => {\n// \tconst enabled = myVideo.current.srcObject.getVideoTracks()[0].enabled;\n// \tif (enabled) {\n// \t\tmyVideo.current.srcObject.getVideoTracks()[0].enabled = false;\n// \t} else {\n// \t\tmyVideo.current.srcObject.getVideoTracks()[0].enabled = true;\n// \t}\n// }\n// const screenShare = (e) => {\n// }\n// const stopScreenShare = () => {\n// }\n// const proximity = (user, me) => {\n// \tif ((user.x - me.x) * (user.x - me.x) + (user.y - me.y) * (user.y - me.y) <= 10000) {\n// \t\treturn true;\n// \t} else {\n// \t\treturn false;\n// \t}\n// }\n// \tconst connectPeer = (user, me) => {\n// \t\tlet temp = connected;\n// \t\ttemp[user.id] = true;\n// \t\tsetConnected(temp);\n// \t\treturn;\n// \t}\n// \tconst disconnectPeer = (user) => {\n// \t\tlet temp = connected;\n// \t\tdelete temp[user.id]\n// \t\tsetConnected(temp);\n// \t\treturn;\n// \t}\n// return (\n// \t<div>\n// \t\t{ joinedRoom ? (\n// \t\t\t<div className=\"room\">\n// \t\t\t\t<div className=\"video-canvas\">\n// \t\t\t\t\t<div className=\"videobox\">\n// \t\t\t\t\t\t<div className=\"buttonbox\">\n// \t\t\t\t\t\t\t<button type=\"button\" className=\"mute\" onClick={ (e) => muteUnmute(e) }> Mute </button>\n// \t\t\t\t\t\t\t<button type=\"button\" className=\"camera\" onClick={ (e) => cameraOnOff(e) }> Camera </button>\n// \t\t\t\t\t\t\t<button type=\"button\" className=\"screenshare\" onClick={ (e) => screenShare(e) }> ScreenShare </button>\n// \t\t\t\t\t\t</div>\n// \t\t\t\t\t\t<StyledVideo muted ref={ myVideo } autoPlay playsInLine />\n// \t\t\t\t\t\t<div className=\"videos\">\n// \t\t\t\t\t\t\t{ peers.map((peer, idx) => {\n// \t\t\t\t\t\t\t\treturn(\n// \t\t\t\t\t\t\t\t\t<div>\n// \t\t\t\t\t\t\t\t\t\t{ console.log(peer) }\n// \t\t\t\t\t\t\t\t\t\t<Video peer={ peer.peer } key={ peer.peerID }/>\n// \t\t\t\t\t\t\t\t\t</div>\n// \t\t\t\t\t\t\t\t)\n// \t\t\t\t\t\t\t})}\n// \t\t\t\t\t\t</div>\n// \t\t\t\t\t</div>\n// \t\t\t\t\t<Sketch setup={ setup } draw={ draw } className=\"canvas\" />\n// \t\t\t\t</div>\n// \t\t\t\t<Chat className=\"chat\" socket={ socket } room={ roomID } name={ name } />\n// \t\t\t</div>\n// \t\t\t) : (\n// \t\t\t\t<RoomSetup \n// \t\t\t\t\tsetJoinedRoom={ () => setJoinedRoom(true) } \n// \t\t\t\t\tsetMic={ preference => setMic(preference) } \n// \t\t\t\t\tsetCam={ preference => setCam(preference) } \n// \t\t\t\t\tsetName={ name => setName(name) }\n// \t\t\t\t/>\n// \t\t\t)\n// \t\t}\n// \t</div>\n// );\n// };\n// export default Room;\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",exact:true,component:src_JoinRoom}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/room/:roomID\",component:src_Room})]})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[438,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/shubhamkapoor/gather-video-chat/server/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/shubhamkapoor/gather-video-chat/server/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/shubhamkapoor/gather-video-chat/server/client/node_modules/postcss-loader/src/index.js??postcss!/Users/shubhamkapoor/gather-video-chat/server/client/src/index.css","/Users/shubhamkapoor/gather-video-chat/server/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/shubhamkapoor/gather-video-chat/server/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/shubhamkapoor/gather-video-chat/server/client/node_modules/postcss-loader/src/index.js??postcss!/Users/shubhamkapoor/gather-video-chat/server/client/src/App.css","/Users/shubhamkapoor/gather-video-chat/server/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/shubhamkapoor/gather-video-chat/server/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/shubhamkapoor/gather-video-chat/server/client/node_modules/postcss-loader/src/index.js??postcss!/Users/shubhamkapoor/gather-video-chat/server/client/src/JoinRoom.css","ignored /Users/shubhamkapoor/gather-video-chat/server/client/node_modules/simple-peer/node_modules/readable-stream/lib util","ignored /Users/shubhamkapoor/gather-video-chat/server/client/node_modules/simple-peer/node_modules/readable-stream/lib/internal/streams util","/Users/shubhamkapoor/gather-video-chat/server/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/shubhamkapoor/gather-video-chat/server/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/shubhamkapoor/gather-video-chat/server/client/node_modules/postcss-loader/src/index.js??postcss!/Users/shubhamkapoor/gather-video-chat/server/client/src/Room.css","/Users/shubhamkapoor/gather-video-chat/server/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/shubhamkapoor/gather-video-chat/server/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/shubhamkapoor/gather-video-chat/server/client/node_modules/postcss-loader/src/index.js??postcss!/Users/shubhamkapoor/gather-video-chat/server/client/src/Chat.css","/Users/shubhamkapoor/gather-video-chat/server/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/shubhamkapoor/gather-video-chat/server/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/shubhamkapoor/gather-video-chat/server/client/node_modules/postcss-loader/src/index.js??postcss!/Users/shubhamkapoor/gather-video-chat/server/client/src/RoomSetup.css","/Users/shubhamkapoor/gather-video-chat/server/client/src/JoinRoom.js","/Users/shubhamkapoor/gather-video-chat/server/client/src/Chat.js","/Users/shubhamkapoor/gather-video-chat/server/client/src/RoomSetup.js","/Users/shubhamkapoor/gather-video-chat/server/client/src/Room.js","/Users/shubhamkapoor/gather-video-chat/server/client/src/App.js","/Users/shubhamkapoor/gather-video-chat/server/client/src/index.js"],"names":["socket","io","connect","JoinRoom","props","useState","name","setName","room","setRoom","joinRoom","e","preventDefault","alert","document","getElementById","value","history","push","createRoom","roomID","uuid","target","Chat","messages","setMessages","message","setMessage","sendMessage","messageData","sender","time","Date","now","getHours","getMinutes","emit","list","useEffect","on","data","map","id","RoomSetup","mic","setMic","cam","setCam","videoStream","useRef","getUserMedia","navigator","mediaDevices","video","audio","stream","current","srcObject","console","log","muteUnmute","enabled","getAudioTracks","cameraOnOff","getVideoTracks","updateName","newName","setJoinedRoom","StyledVideo","styled","Video","ref","peer","streams","Room","joinedRoom","nearby","setNearby","users","setUsers","userVideo","peersRef","trackPeers","match","params","then","forEach","userID","createPeer","peerID","payload","addPeer","signal","callerID","item","find","p","peerObj","destroy","peers","filter","tempNearby","userToSignal","Peer","initiator","trickle","incomingSignal","all","me","i","length","proximity","j","screenShare","stopScreenShare","user","x","y","setup","p5","canvas","canv","createCanvas","parent","tempUsers","draw","background","idx","findIndex","keyIsDown","circle","App","ReactDOM","render"],"mappings":"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wC,OAAO,CAAG,iBAACA,CAAD,QAAO+C,QAAO,CAACC,GAAR,CAAYsB,QAAQ,CAACzB,OAArB,CAAP,EAAlD,qBAJD,GADD,cAOC,mCAAK,SAAS,CAAC,UAAf,wBACC,2BAAC,WAAD,EAAa,KAAK,KAAlB,CAAmB,GAAG,CAAGwB,SAAzB,CAAqC,QAAQ,KAA7C,CAA8C,WAAW,KAAzD,EADD,CAEGJ,MAAM,CAACnC,GAAP,CAAW,SAAC+B,IAAD,CAAU,CACtB,mBACC,2BAAC,UAAD,EAAO,IAAI,CAAGA,IAAI,CAACA,IAAnB,EADD,CAGA,CAJC,CAFH,GAPD,cAeC,2BAAC,eAAD,EAAQ,KAAK,CAAG8C,KAAhB,CAAwB,IAAI,CAAGO,IAA/B,CAAsC,SAAS,CAAC,QAAhD,EAfD,GADD,cAkBC,2BAAC,QAAD,EAAM,SAAS,CAAC,MAAhB,CAAuB,MAAM,CAAG7H,WAAhC,CAAyC,IAAI,CAAGoB,MAAhD,EAlBD,GADA,CAsBC,EAEcsD,sDAAf,EAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAED;AAGA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AAEE;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC;AACF;AAEA,uB;;ACjiBA,QAASyD,QAAT,EAAe,CACb,mBACE,2BAAC,yCAAD,wBACE,4BAAC,8BAAD,yBACE,2BAAC,6BAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,KAArB,CAAsB,SAAS,CAAGhI,YAAlC,EADF,cAEE,2BAAC,6BAAD,EAAO,IAAI,CAAC,eAAZ,CAA4B,SAAS,CAAGuE,QAAxC,EAFF,GADF,EADF,CAQD,CAEcyD,mDAAf,E;;ACXAC,mBAAQ,CAACC,MAAT,cACE,2BAAC,eAAD,CAAO,UAAP,wBACE,2BAAC,OAAD,IADF,EADF,CAIEvH,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAJF,E","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","/* (ignored) */","/* (ignored) */","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, { useState } from \"react\";\nimport './JoinRoom.css'\nimport { v1 as uuid } from \"uuid\";\nimport io from \"socket.io-client\";\nimport e from \"cors\";\n\nconst socket = io.connect(\"http://localhost:3001\");\n\nfunction JoinRoom(props) {\n    const [name, setName] = useState(\"\")\n    const [room, setRoom] = useState(\"\")\n  \n    const joinRoom = (e) => {\n      e.preventDefault()\n      if (name === \"\" || room === \"\") {\n        alert(\"Please enter valid values\")\n        return\n      }\n\n      document.getElementById(\"input-name\").value = \"\"\n      document.getElementById(\"input-room\").value = \"\"\n\n      props.history.push(`/room/${room}`);\n    }\n\n    const createRoom = (e) => {\n        e.preventDefault();\n        if (name === \"\") {\n            alert(\"Please enter a name\")\n            return\n        }\n\n        document.getElementById(\"input-name\").value = \"\"\n        document.getElementById(\"input-room\").value = \"\"\n\n        const roomID = uuid();\n        props.history.push(`/room/${roomID}`);\n    }\n\n    return (\n        <div className=\"joinRoom\">\n            <h1> Enter Room Details </h1>\n            <input id=\"input-name\" type=\"text\" placeholder=\"Enter Your Name...\" onChange={ (e) => setName(e.target.value) }/>\n            <input id=\"input-room\" type=\"text\" placeholder=\"Enter Room ID...\" onChange={ (e) => setRoom(e.target.value) }/>\n            <button type=\"submit\" onClick={ (e) => joinRoom(e) }> Join a room </button>\n            <button onClick={ (e) => createRoom(e) }> Create new room </button>\n        </div>\n    );\n};\n\nexport default JoinRoom;","import React, { useState, useEffect } from 'react'\nimport './Chat.css'\nimport ScrollToBottom from 'react-scroll-to-bottom'\n\nfunction Chat({ socket, room, name }) {\n\tconst [messages, setMessages] = useState([])\n\tconst [message, setMessage] = useState(\"\")\n\n\tconst sendMessage = async (e) => {\n\t\te.preventDefault()\n\t\tif (message === \"\") {\n\t\t\talert(\"Please enter a valid message\")\n\t\t\treturn\n\t\t}\n\n\t\tconst messageData = {\n\t\t\troom: room,\n\t\t\tsender: name,\n\t\t\tmessage: message,\n\t\t\ttime: new Date(Date.now()).getHours() + \":\" + new Date(Date.now()).getMinutes(),\n\t\t}\n\n\t\tawait socket.emit('send message', messageData)\n\t\tsetMessages((list) => [...list, messageData])\n\t\tsetMessage(\"\");\n\t\tdocument.getElementById('input').value = \"\"\n\t}\n\n  useEffect(() => {\n    socket.on('receive message', (data) => {\n\t\t\tsetMessages((list) => [...list, data])\n    })\n  }, [socket])\n\n\treturn (\n\t\t<div className=\"chatbox\">\n\t\t\t<div className=\"chat\">\n\t\t\t\t<div className=\"chat-header\"> Live Chat </div>\n\t\t\t\t<div className=\"chat-body\">\n\t\t\t\t\t<ScrollToBottom className=\"message-container\">\n\t\t\t\t\t\t{ messages.map((message) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div className=\"message\">\n\t\t\t\t\t\t\t\t\t{ message.sender === socket.id ? (\n\t\t\t\t\t\t\t\t\t\t<div className=\"message-sent\"> \n\t\t\t\t\t\t\t\t\t\t\t<div className=\"message-sender\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"sender-name\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"sender-send\"> { message.sender } </div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"content-box\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text\"> { message.message } </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"time\"> { message.time } </div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<div className=\"message-received\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"message-receiver\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"sender-received\"> { message.sender } </div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"content-reciever\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"content-box\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text\"> { message.message } </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"time\"> { message.time } </div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})}\n\t\t\t\t\t</ScrollToBottom>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"chat-footer\">\n\t\t\t\t\t<input className=\"message-input\" id=\"input\" type=\"text\" placeholder=\"Type Message Here...\" onChange={ (e) => setMessage(e.target.value) }/>\n\t\t\t\t\t<button className=\"send-message\" onClick={ (e) => sendMessage(e) }> \n\t\t\t\t\t\t&#9658;\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Chat","import React, { useState, useEffect, useRef } from 'react'\nimport './RoomSetup.css'\n\nfunction RoomSetup(props) {\n\tconst [mic, setMic] = useState(true);\n\tconst [cam, setCam] = useState(true);\n\tconst [name, setName] = useState(\"\");\n\tconst videoStream = useRef(null);\n\n\tuseEffect(() => {\n\t\tconst getUserMedia = async () => {\n\t\t\ttry {\n\t\t\t\tconst stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\n\t\t\t\tvideoStream.current.srcObject = stream;\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err)\n\t\t\t}\n\t\t}\n\n\t\tgetUserMedia();\n\t}, []);\n\n\tconst muteUnmute = (e) => {\n\t\tif (mic) {\n\t\t\tsetMic(false);\n\t\t\tprops.setMic(false);\n\t\t} else {\n\t\t\tsetMic(true);\n\t\t\tprops.setMic(true);\n\t\t}\n\t\tconst enabled = videoStream.current.srcObject.getAudioTracks()[0].enabled;\n\t\tif (enabled) {\n\t\t\tvideoStream.current.srcObject.getAudioTracks()[0].enabled = false;\t\n\t\t} else {\n\t\t\tvideoStream.current.srcObject.getAudioTracks()[0].enabled = true;\n\t\t}\n\t}\n\n\tconst cameraOnOff = (e) => {\n\t\tif (cam) {\n\t\t\tsetCam(false);\n\t\t\tprops.setCam(false);\n\t\t} else {\n\t\t\tsetCam(true);\n\t\t\tprops.setCam(true);\n\t\t}\n\t\tconst enabled = videoStream.current.srcObject.getVideoTracks()[0].enabled;\n\t\tif (enabled) {\n\t\t\tvideoStream.current.srcObject.getVideoTracks()[0].enabled = false;\n\t\t} else {\n\t\t\tvideoStream.current.srcObject.getVideoTracks()[0].enabled = true;\n\t\t}\n\t}\n\t\n\tconst updateName = (newName) => {\n\t\tsetName(newName);\n\t\tprops.setName(newName);\n\t}\n\n\tconst joinRoom = (e) => {\n\t\tif (name === \"\") {\n\t\t\talert(\"please enter a valid name\");\n\t\t\treturn;\n\t\t}\n\t\tprops.setJoinedRoom(true);\n\t}\n\n\treturn (\n\t\t<div className=\"roomsetup\">\n\t\t\t<button onClick={ (e) => joinRoom(e) } > \n\t\t\t\tJoin\n\t\t\t</button>\n\t\t\t<button onClick={ (e) => muteUnmute(e) }>\n\t\t\t\tmute mic\n\t\t\t</button>\n\t\t\t<button onClick={ (e) => cameraOnOff(e) }>\n\t\t\t\tturn off cam\n\t\t\t</button>\n\t\t\t<input placeholder=\"enter display name\" onChange={ (e) => updateName(e.target.value) }/>\n\t\t\t<video muted ref={ videoStream } autoPlay />\n\t\t</div>\n\t)\n}\n\nexport default RoomSetup","import React, { useEffect, useRef, useState } from \"react\";\nimport io from \"socket.io-client\";\nimport Peer from \"simple-peer\";\nimport \"./Room.css\";\nimport Sketch from 'react-p5';\nimport styled from \"styled-components\";\nimport Chat from './Chat';\nimport RoomSetup from './RoomSetup';\n\nconst socket = io.connect(\"http://localhost:3001\");\n\nconst StyledVideo = styled.video`\n    height: 300px;\n    width: 300px;\n`;\n\nconst Video = (props) => {\n  const ref = useRef();\n\n  useEffect(() => {\n\t\tconsole.log(props.peer);\n\t\tref.current.srcObject = props.peer.streams[0];\n  }, []);\n\n  return (\n  \t<StyledVideo playsInline autoPlay ref={ ref } />\n  );\n}\n\nfunction Room(props) {\nconst [name, setName] = useState(\"\");\nconst [mic, setMic] = useState(true);\nconst [cam, setCam] = useState(true);\nconst [joinedRoom, setJoinedRoom] = useState(false);\n\nconst [nearby, setNearby] = useState([]);\nconst [users, setUsers] = useState([]);\nconst userVideo = useRef();\nconst peersRef = useRef([]);\nconst trackPeers = useRef([]);\nconst roomID = props.match.params.roomID;\n\nuseEffect(() => {\n\tnavigator.mediaDevices.getUserMedia({ video: true, audio: true }).then(stream => {\n\t\tuserVideo.current.srcObject = stream;\n\t\tsocket.emit(\"join room\", roomID);\n\t\tsocket.on(\"all users\", users => {\n\t\t\tusers.forEach(userID => {\n\t\t\t\tconst peer = createPeer(userID, socket.id, stream);\n\t\t\t\tpeersRef.current.push({\n\t\t\t\t\tpeerID: userID,\n\t\t\t\t\tpeer,\n\t\t\t\t})\n\t\t\t})\n\t\t})\n\n\t\tsocket.on(\"user joined\", payload => {\n\t\t\tconst peer = addPeer(payload.signal, payload.callerID, stream);\n\t\t\tpeersRef.current.push({\n\t\t\t\tpeerID: payload.callerID,\n\t\t\t\tpeer,\n\t\t\t})\n\t\t});\n\n\t\tsocket.on(\"receiving returned signal\", payload => {\n\t\t\tconst item = peersRef.current.find(p => p.peerID === payload.id);\n\t\t\titem.peer.signal(payload.signal);\n\t\t});\n\n\t\tsocket.on(\"user left\", id => {\n\t\t\tconst peerObj = peersRef.current.find(p => p.peerID === id);\n\t\t\tif (peerObj) {\n\t\t\t\tpeerObj.peer.destroy();\n\t\t\t}\n\t\t\tconst peers = peersRef.current.filter(p => p.peerID !== id);\n\t\t\tconst tempNearby = nearby.filter(p => p.peerID !== id);\n\t\t\tpeersRef.current = peers;\n\t\t\tsetNearby(tempNearby);\n\t\t})\n\t})\n}, []);\n\nconst createPeer = (userToSignal, callerID, stream) => {\n\tconst peer = new Peer({\n\t\tinitiator: true,\n\t\ttrickle: false,\n\t\tstream,\n\t});\n\n\tpeer.on(\"signal\", signal => {\n\t\tsocket.emit(\"sending signal\", { userToSignal, callerID, signal })\n\t})\n\n\treturn peer;\n}\n\nconst addPeer = (incomingSignal, callerID, stream) => {\n\tconst peer = new Peer({\n\t\tinitiator: false,\n\t\ttrickle: false,\n\t\tstream,\n\t})\n\n\tpeer.on(\"signal\", signal => {\n\t\tsocket.emit(\"returning signal\", { signal, callerID })\n\t})\n\n\tpeer.signal(incomingSignal);\n\n\treturn peer;\n}\n\nuseEffect(() => {\n\tsocket.on('receive move', (data) => {\n\t\tsetUsers(data.all);\n\n\t\tvar me = {};\n\t\tfor (let i = 0; i < data.all.length; i ++) {\n\t\t\tif (data.all[i].id === socket.id) {\n\t\t\t\tme = data.all[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tvar tempNearby = [];\n\t\tfor (let i = 0; i < data.all.length; i ++) {\n\t\t\tif (data.all[i].id === socket.id) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (proximity(data.all[i], me)) {\n\t\t\t\tfor (var j = 0; j < peersRef.current.length; j ++) {\n\t\t\t\t\tif (peersRef.current[j].peerID === data.all[i].id) {\n\t\t\t\t\t\ttempNearby.push(peersRef.current[j]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetNearby(tempNearby);\n\t})\n}, [socket]);\n\n\nconst muteUnmute = (e) => {\n\tconst enabled = userVideo.current.srcObject.getAudioTracks()[0].enabled;\n\tif (enabled) {\n\t\tuserVideo.current.srcObject.getAudioTracks()[0].enabled = false;\t\n\t} else {\n\t\tuserVideo.current.srcObject.getAudioTracks()[0].enabled = true;\n\t}\n}\n\nconst cameraOnOff = (e) => {\n\tconst enabled = userVideo.current.srcObject.getVideoTracks()[0].enabled;\n\tif (enabled) {\n\t\tuserVideo.current.srcObject.getVideoTracks()[0].enabled = false;\n\t} else {\n\t\tuserVideo.current.srcObject.getVideoTracks()[0].enabled = true;\n\t}\n}\n\nconst screenShare = (e) => {\n\n}\n\nconst stopScreenShare = () => {\n\n}\n\nconst proximity = (user, me) => {\n\tif ((user.x - me.x) * (user.x - me.x) + (user.y - me.y) * (user.y - me.y) <= 10000) {\n\t\treturn true;\n\t} else {\n\t\treturn false;\n\t}\n}\n\nlet setup = (p5, canvas) => {\nlet canv = p5.createCanvas(800, 600).parent(canvas);\nlet tempUsers = [];\ntempUsers.push({\n\tid: socket.id,\n\troom: roomID,\n\tx: 400,\n\ty: 100\n});\n\nsetUsers(tempUsers);\n}\n\nlet draw = (p5) => {\np5.background(\"rgb(255, 255, 255)\");\n\nlet idx = users.findIndex((user) => user.id === socket.id)\nif (idx !== -1) {\n\tlet tempUsers = users;\n\n\tif (p5.keyIsDown(87) || p5.keyIsDown(38)) {\n\t\ttempUsers[idx].y = tempUsers[idx].y - 2;\n\t}\n\tif (p5.keyIsDown(65) || p5.keyIsDown(37)) {\n\t\ttempUsers[idx].x = tempUsers[idx].x - 2;\n\t}\n\tif (p5.keyIsDown(83) || p5.keyIsDown(40)) {\n\t\ttempUsers[idx].y = tempUsers[idx].y + 2;\n\t}\n\tif (p5.keyIsDown(68) || p5.keyIsDown(39)) {\n\t\ttempUsers[idx].x = tempUsers[idx].x + 2;\n\t}\t\n\t\n\tsetUsers(tempUsers);\n\tlet data = {\n\t\tid: socket.id,\n\t\troom: roomID,\n\t\tx: tempUsers[idx].x,\n\t\ty: tempUsers[idx].y\t\n\t}\n\tsocket.emit('send move', data);\n}\nfor (let i = 0; i < users.length; i ++) {\n\tp5.circle(users[i].x, users[i].y, 16);\n}\n}\n\nreturn (\n<div className=\"room\">\n\t<div className=\"video-canvas\">\n\t\t<div className=\"buttonbox\">\n\t\t\t<button type=\"button\" className=\"mute\" onClick={ (e) => muteUnmute(e) }> Mute </button>\n\t\t  <button type=\"button\" className=\"camera\" onClick={ (e) => cameraOnOff(e) }> Camera </button>\n\t \t\t<button type=\"button\" className=\"screenshare\" onClick={ (e) => screenShare(e) }> ScreenShare </button>\n\t\t\t<button type=\"button\" className=\"debug\" onClick={ (e) => console.log(peersRef.current) }> Debug </button>\n\t\t</div>\n\t\t<div className=\"videobox\">\n\t\t\t<StyledVideo muted ref={ userVideo } autoPlay playsInline />\n\t\t\t{ nearby.map((peer) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Video peer={ peer.peer } />\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t\t<Sketch setup={ setup } draw={ draw } className=\"canvas\" />\n\t</div>\n\t<Chat className=\"chat\" socket={ socket } room={ roomID } />\n</div>\n);\n};\n\nexport default Room;\n\n\n// import React, { useEffect, useRef, useState } from \"react\";\n// import io from \"socket.io-client\";\n// import Peer from \"simple-peer\";\n// import \"./Room.css\";\n// import Sketch from 'react-p5';\n// import styled from \"styled-components\";\n// import Chat from \"./Chat\";\n// import RoomSetup from './RoomSetup';\n\n// const socket = io.connect(\"http://localhost:3001\");\n\n// const StyledVideo = styled.video`\n// \theight: 300px;\n// \twidth: 300px;\n// `;\n\n// const Video = (props) => {\n// \tconst ref = useRef();\n\n// \tuseEffect(() => {\n// \t\tref.current.srcObject = props.peer;\n// \t}, []);\n\n// \treturn (\n// \t\t\tprops.muted ? (\n// \t\t\t\t<StyledVideo muted playsInline autoPlay ref={ ref } />\n// \t\t\t) : (\n// \t\t\t\t<StyledVideo playsInline autoPlay ref={ ref } />\n// \t\t\t)\n// \t);\n// }\n\n// function Room(props) {\n// \t\tconst [name, setName] = useState(\"\");\n// \t\tconst [mic, setMic] = useState(true);\n// \t\tconst [cam, setCam] = useState(true);\n// \t\tconst [joinedRoom, setJoinedRoom] = useState(false);\n\t\t\n// \t\tconst [users, setUsers] = useState([]);\n// \t\tconst [peers, setPeers] = useState([]);\n// \t\tconst [connected, setConnected] = useState({});\n// \t\tconst peersRef = useRef([]);\n// \t\tconst myVideo = useRef([]);\n//     const roomID = props.match.params.roomID;\n\n// \t\tuseEffect(() => {\n// \t\t\tconst getUserMedia = async () => {\n// \t\t\t\ttry {\n// \t\t\t\t\tconst stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\n// \t\t\t\t\tsocket.emit(\"join room\", roomID);\n// \t\t\t\t\tmyVideo.current.srcObject = stream;\n// \t\t\t\t\tif (!cam) {\n// \t\t\t\t\t\tcameraOnOff();\n// \t\t\t\t\t}\n// \t\t\t\t\tif (!mic) {\n// \t\t\t\t\t\tmuteUnmute();\n// \t\t\t\t\t}\n// \t\t\t\t} catch (err) {\n// \t\t\t\t\tconsole.log(err)\n// \t\t\t\t}\n// \t\t\t}\n\n// \t\t\tgetUserMedia().then(stream => {\n// \t\t\t\tsocket.on(\"all users\", users => {\n// \t\t\t\t\tconst peers = [];\n// \t\t\t\t\tusers.forEach(userID => {\n// \t\t\t\t\t\tconst peer = createPeer(userID, socket.id, stream);\n// \t\t\t\t\t\tpeersRef.current.push({\n// \t\t\t\t\t\t\tpeerID: userID,\n// \t\t\t\t\t\t\tpeer,\n// \t\t\t\t\t\t})\n// \t\t\t\t\t\tpeers.push({\n// \t\t\t\t\t\t\tpeerID: userID,\n// \t\t\t\t\t\t\tpeer,\n// \t\t\t\t\t\t});\n// \t\t\t\t\t})\n// \t\t\t\t\tsetPeers(peers);\n// \t\t\t\t})\n\t\n// \t\t\t\tsocket.on(\"user joined\", payload => {\n// \t\t\t\t\tconst peer = addPeer(payload.signal, payload.callerID, stream);\n// \t\t\t\t\tpeersRef.current.push({\n// \t\t\t\t\t\tpeerID: payload.callerID,\n// \t\t\t\t\t\tpeer,\n// \t\t\t\t\t})\n// \t\t\t\t\tconst peerObj = {\n// \t\t\t\t\t\tpeer,\n// \t\t\t\t\t\tpeerID: payload.callerID,\n// \t\t\t\t\t}\n// \t\t\t\t\tsetPeers(users => [...users, peerObj]);\n// \t\t\t\t});\n\t\n// \t\t\t\tsocket.on(\"receiving returned signal\", payload => {\n// \t\t\t\t\tconst item = peersRef.current.find(p => p.peerID === payload.id);\n// \t\t\t\t\titem.peer.signal(payload.signal);\n// \t\t\t\t});\n\t\n// \t\t\t\tsocket.on(\"user left\", id => {\n// \t\t\t\t\tconst peerObj = peersRef.current.find(p => p.peerID === id);\n// \t\t\t\t\tif (peerObj) {\n// \t\t\t\t\t\tpeerObj.peer.destroy();\n// \t\t\t\t\t}\n// \t\t\t\t\tconst peers = peersRef.current.filter(p => p.peerID !== id);\n// \t\t\t\t\tpeersRef.current = peers;\n// \t\t\t\t\tsetPeers(peers);\n// \t\t\t\t})\t\n// \t\t\t});\n// \t\t}, [myVideo.current]);\n\n// \tuseEffect(() => {\n// \t\tsocket.on('receive move', (data) => {\n// \t\t\tsetUsers(data.all);\n// \t\t\tfor (let i = 0; i < data.all.length; i ++) {\n// \t\t\t\tif (data.all[i].id === data.me.id) {\n// \t\t\t\t\tcontinue;\n// \t\t\t\t}\n\n// \t\t\t\tlet closer = proximity(data.all[i], data.me)\n\n// \t\t\t\tif (closer && connected[data.all[i].id] === undefined) {\n// \t\t\t\t\tconnectPeer(data.all[i], data.me);\n\n// \t\t\t\t} else if (!closer && connected[data.all[i].id] !== undefined) {\n// \t\t\t\t\tdisconnectPeer(data.all[i], data.me);\n// \t\t\t\t}\n// \t\t\t}\n// \t\t})\n// \t}, [socket]);\n\n// \tconst createPeer = (userToSignal, callerID, stream) => {\n// \t\tconst peer = new Peer({\n// \t\t\tinitiator: true,\n// \t\t\ttrickle: false,\n// \t\t\tstream\n// \t\t})\n\n// \t\tpeer.on('signal', signal => {\n// \t\t\tsocket.emit('sending signal', { userToSignal, callerID, signal })\n// \t\t})\n\n// \t\treturn peer;\n// \t}\n\n// \tconst addPeer = (incomingSignal, callerID, stream) => {\n// \t\tconst peer = new Peer({\n// \t\t\tinitiator: false, \n// \t\t\ttrickle: false,\n// \t\t\tstream\n// \t\t})\n\n// \t\tpeer.on('signal', signal => {\n// \t\t\tsocket.emit('returning signal', { signal, callerID })\n// \t\t})\n\n// \t\tpeer.signal(incomingSignal);\n// \t\treturn peer;\n// \t}\n\n// \tlet setup = (p5, canvas) => {\n// \t\tlet canv = p5.createCanvas(800, 600).parent(canvas);\n// \t\tlet tempUsers = [];\n// \t\ttempUsers.push({\n// \t\t\tid: socket.id,\n// \t\t\troom: roomID,\n// \t\t\tx: 400,\n// \t\t\ty: 100\n// \t\t});\n\t\t\n// \t\tsetUsers(tempUsers);\n// \t}\n\n// \tlet draw = (p5) => {\n// \t\tp5.background(\"rgb(255, 255, 255)\");\n\n// \t\tlet idx = users.findIndex((user) => user.id === socket.id)\n// \t\tif (idx !== -1) {\n// \t\t\tlet tempUsers = users;\n\n// \t\t\tif (p5.keyIsDown(87) || p5.keyIsDown(38)) {\n// \t\t\t\ttempUsers[idx].y = tempUsers[idx].y - 2;\n// \t\t\t}\n// \t\t\tif (p5.keyIsDown(65) || p5.keyIsDown(37)) {\n// \t\t\t\ttempUsers[idx].x = tempUsers[idx].x - 2;\n// \t\t\t}\n// \t\t\tif (p5.keyIsDown(83) || p5.keyIsDown(40)) {\n// \t\t\t\ttempUsers[idx].y = tempUsers[idx].y + 2;\n// \t\t\t}\n// \t\t\tif (p5.keyIsDown(68) || p5.keyIsDown(39)) {\n// \t\t\t\ttempUsers[idx].x = tempUsers[idx].x + 2;\n// \t\t\t}\t\n\t\t\t\n// \t\t\tlet data = {\n// \t\t\t\tid: socket.id,\n// \t\t\t\troom: roomID,\n// \t\t\t\tx: tempUsers[idx].x,\n// \t\t\t\ty: tempUsers[idx].y\t\n// \t\t\t}\n\n// \t\t\tsetUsers(tempUsers);\n// \t\t\tsocket.emit('send move', data);\n// \t\t}\n\n// \t\tfor (let i = 0; i < users.length; i ++) {\n// \t\t\tp5.circle(users[i].x, users[i].y, 16);\n// \t\t}\n// \t}\n\n\t// const muteUnmute = (e) => {\n\t// \tconst enabled = myVideo.current.stcObject.getAudioTracks()[0].enabled;\n\t// \tif (enabled) {\n\t// \t\tmyVideo.current.srcObject.getAudioTracks()[0].enabled = false;\t\n\t// \t} else {\n\t// \t\tmyVideo.current.srcObject.getAudioTracks()[0].enabled = true;\n\t// \t}\n\t// }\n\n\t// const cameraOnOff = (e) => {\n\t// \tconst enabled = myVideo.current.srcObject.getVideoTracks()[0].enabled;\n\t// \tif (enabled) {\n\t// \t\tmyVideo.current.srcObject.getVideoTracks()[0].enabled = false;\n\t// \t} else {\n\t// \t\tmyVideo.current.srcObject.getVideoTracks()[0].enabled = true;\n\t// \t}\n\t// }\n\t\n\t// const screenShare = (e) => {\n\n\t// }\n\n\t// const stopScreenShare = () => {\n\n\t// }\n\n\t// const proximity = (user, me) => {\n\t// \tif ((user.x - me.x) * (user.x - me.x) + (user.y - me.y) * (user.y - me.y) <= 10000) {\n\t// \t\treturn true;\n\t// \t} else {\n\t// \t\treturn false;\n\t// \t}\n\t// }\n\n// \tconst connectPeer = (user, me) => {\n\t\t\n\t\t\n// \t\tlet temp = connected;\n// \t\ttemp[user.id] = true;\n// \t\tsetConnected(temp);\n// \t\treturn;\n// \t}\n\n// \tconst disconnectPeer = (user) => {\n\t\t\n\n// \t\tlet temp = connected;\n// \t\tdelete temp[user.id]\n// \t\tsetConnected(temp);\n// \t\treturn;\n// \t}\n\n  // return (\n\t// \t<div>\n\t// \t\t{ joinedRoom ? (\n\t// \t\t\t<div className=\"room\">\n\t// \t\t\t\t<div className=\"video-canvas\">\n\t// \t\t\t\t\t<div className=\"videobox\">\n\t// \t\t\t\t\t\t<div className=\"buttonbox\">\n\t// \t\t\t\t\t\t\t<button type=\"button\" className=\"mute\" onClick={ (e) => muteUnmute(e) }> Mute </button>\n\t// \t\t\t\t\t\t\t<button type=\"button\" className=\"camera\" onClick={ (e) => cameraOnOff(e) }> Camera </button>\n\t// \t\t\t\t\t\t\t<button type=\"button\" className=\"screenshare\" onClick={ (e) => screenShare(e) }> ScreenShare </button>\n\t// \t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t<StyledVideo muted ref={ myVideo } autoPlay playsInLine />\n\t// \t\t\t\t\t\t<div className=\"videos\">\n\t// \t\t\t\t\t\t\t{ peers.map((peer, idx) => {\n\t// \t\t\t\t\t\t\t\treturn(\n\t// \t\t\t\t\t\t\t\t\t<div>\n\t// \t\t\t\t\t\t\t\t\t\t{ console.log(peer) }\n\t// \t\t\t\t\t\t\t\t\t\t<Video peer={ peer.peer } key={ peer.peerID }/>\n\t// \t\t\t\t\t\t\t\t\t</div>\n\t// \t\t\t\t\t\t\t\t)\n\t// \t\t\t\t\t\t\t})}\n\t// \t\t\t\t\t\t</div>\n\t// \t\t\t\t\t</div>\n\t// \t\t\t\t\t<Sketch setup={ setup } draw={ draw } className=\"canvas\" />\n\t// \t\t\t\t</div>\n\t// \t\t\t\t<Chat className=\"chat\" socket={ socket } room={ roomID } name={ name } />\n\t// \t\t\t</div>\n\t// \t\t\t) : (\n\t// \t\t\t\t<RoomSetup \n\t// \t\t\t\t\tsetJoinedRoom={ () => setJoinedRoom(true) } \n\t// \t\t\t\t\tsetMic={ preference => setMic(preference) } \n\t// \t\t\t\t\tsetCam={ preference => setCam(preference) } \n\t// \t\t\t\t\tsetName={ name => setName(name) }\n\t// \t\t\t\t/>\n\t// \t\t\t)\n\t// \t\t}\n\t// \t</div>\n  // );\n// };\n\n// export default Room;","import './App.css';\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport JoinRoom from \"./JoinRoom\";\nimport Room from './Room';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/\" exact component={ JoinRoom } />\n        <Route path=\"/room/:roomID\" component={ Room } /> \n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"]}}